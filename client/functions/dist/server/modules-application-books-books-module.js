exports.ids=[2],exports.modules={"4Pla":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"BooksModule",function(){return BooksModule});var common=__webpack_require__("ofXK"),fesm2015_forms=__webpack_require__("3Pt+"),router=__webpack_require__("tyNb"),core=__webpack_require__("fXoL"),map=__webpack_require__("lJxs"),http=__webpack_require__("tk/3");class book_search_service_GoogleBookService{constructor(http){this.http=http}findBook(title){return this.http.get(`https://www.googleapis.com/books/v1/volumes?q=${title}&maxResults=40`).pipe(Object(map.a)(data=>data.items))}}book_search_service_GoogleBookService.\u0275fac=function GoogleBookService_Factory(t){return new(t||book_search_service_GoogleBookService)(core.Tc(http.b))},book_search_service_GoogleBookService.\u0275prov=core.Fc({token:book_search_service_GoogleBookService,factory:book_search_service_GoogleBookService.\u0275fac,providedIn:"root"});class PersistanceService{constructor(){}set(key,data){try{sessionStorage.setItem(key,JSON.stringify(data))}catch(err){console.error("Error saving to localStorage",err)}}get(key){try{return JSON.parse(sessionStorage.getItem(key))}catch(err){return console.error("Error getting data from localStorage",err),null}}clear(){sessionStorage.clear()}}function BooksComponent_button_18_Template(rf,ctx){if(1&rf){const _r5=core.Qc();core.Pc(0,"button",15),core.Wc("click",function BooksComponent_button_18_Template_button_click_0_listener(){core.ld(_r5);return core.Zc().clearStore()}),core.rd(1," Clear "),core.Oc()}}function BooksComponent_div_19_div_1_Template(rf,ctx){if(1&rf){const _r9=core.Qc();core.Pc(0,"div",18),core.Pc(1,"img",19),core.Wc("click",function BooksComponent_div_19_div_1_Template_img_click_1_listener(){core.ld(_r9);const book_r7=ctx.$implicit;return core.Zc(2).onGoToBookDetail(book_r7)}),core.Oc(),core.Oc()}if(2&rf){const book_r7=ctx.$implicit;core.zc(1),core.ed("src",null!=book_r7.volumeInfo.imageLinks?book_r7.volumeInfo.imageLinks.smallThumbnail:"assets/params/images/not-found.png",core.nd)}}function BooksComponent_div_19_Template(rf,ctx){if(1&rf&&(core.Pc(0,"div",16),core.pd(1,BooksComponent_div_19_div_1_Template,2,1,"div",17),core.Oc()),2&rf){const ctx_r3=core.Zc();core.zc(1),core.dd("ngForOf",ctx_r3.booksArray)}}PersistanceService.\u0275fac=function PersistanceService_Factory(t){return new(t||PersistanceService)},PersistanceService.\u0275prov=core.Fc({token:PersistanceService,factory:PersistanceService.\u0275fac});class books_component_BooksComponent{constructor(googleBookService,router,fb,storageService,platformId){this.googleBookService=googleBookService,this.router=router,this.fb=fb,this.storageService=storageService,this.platformId=platformId,this.storedItems=!1}ngOnInit(){Object(common.r)(this.platformId)&&(null!==this.booksArray?(this.storedItems=!0,this.booksArray=this.storageService.get("this.searchedBooks")):(this.storedItems=!1,console.log("There is no book search in storage"))),this.searchForm=this.fb.group({searchQuery:[""]})}clearStore(){this.storageService.clear(),this.searchForm.reset(),this.booksArray=[],this.storedItems=!1}bookQuery(userQuery){userQuery&&userQuery.length&&(Object(common.r)(this.platformId)?(this.storageService.set("this.searchedItem",userQuery),this.searchString=this.storageService.get("this.searchedItem"),this.storedItems=!0,this.googleBookService.findBook(this.searchString).subscribe(data=>{this.books=data,this.storageService.set("this.searchedBooks",this.books),this.booksArray=this.storageService.get("this.searchedBooks")})):this.googleBookService.findBook(this.searchString).subscribe(data=>{this.booksArray=data}))}onGoToBookDetail(book){const navigationExtras={state:{book:book}};this.router.navigate(["/book-detail"],navigationExtras)}}books_component_BooksComponent.\u0275fac=function BooksComponent_Factory(t){return new(t||books_component_BooksComponent)(core.Jc(book_search_service_GoogleBookService),core.Jc(router.b),core.Jc(fesm2015_forms.b),core.Jc(PersistanceService),core.Jc(core.V))},books_component_BooksComponent.\u0275cmp=core.Dc({type:books_component_BooksComponent,selectors:[["app-books"]],decls:20,vars:3,consts:[["name","description","content","Shows data from the Google Books api"],[1,"main-div"],[1,"card","rounded"],[1,"card-header","bg-light"],["src","../../../../assets/params/images/logo/book.png","alt","Book logo",1,"header-image","float-left"],[1,"card-title","text-dark"],[1,"card-subtitle","font-italic"],[1,"card-body"],[3,"ngSubmit"],["searchForm","ngForm"],["type","text","ngModel","","name","searchQuery","id","searchQuery","placeholder","Enter book title..","aria-label","Enter book title","name","search","required",""],["searchWord","ngModel"],["type","submit",1,"btn","btn-dark",3,"disabled"],["class","btn btn-warning","type","button",3,"click",4,"ngIf"],["class","row",4,"ngIf"],["type","button",1,"btn","btn-warning",3,"click"],[1,"row"],["class","book-card col-lg-2 col-md-3 col-sm-3 col-xs-6 p-2 text-center",4,"ngFor","ngForOf"],[1,"book-card","col-lg-2","col-md-3","col-sm-3","col-xs-6","p-2","text-center"],["alt","Book image",2,"width","140px","height","224px",3,"src","click"]],template:function BooksComponent_Template(rf,ctx){if(1&rf){const _r10=core.Qc();core.Pc(0,"head"),core.Kc(1,"meta",0),core.Oc(),core.Pc(2,"body"),core.Pc(3,"div",1),core.Pc(4,"div",2),core.Pc(5,"div",3),core.Kc(6,"img",4),core.Pc(7,"h5",5),core.rd(8,"Google Book API"),core.Oc(),core.Pc(9,"h6",6),core.rd(10,"Search by title"),core.Oc(),core.Oc(),core.Pc(11,"div",7),core.Pc(12,"form",8,9),core.Wc("ngSubmit",function BooksComponent_Template_form_ngSubmit_12_listener(){core.ld(_r10);const _r1=core.kd(15),_r0=core.kd(13);return ctx.bookQuery(_r1.value),_r0.reset()}),core.Kc(14,"input",10,11),core.Pc(16,"button",12),core.rd(17," Search "),core.Oc(),core.pd(18,BooksComponent_button_18_Template,2,0,"button",13),core.Oc(),core.Oc(),core.Oc(),core.pd(19,BooksComponent_div_19_Template,2,1,"div",14),core.Oc(),core.Oc()}if(2&rf){const _r0=core.kd(13);core.zc(16),core.dd("disabled",_r0.invalid),core.zc(2),core.dd("ngIf",ctx.storedItems),core.zc(1),core.dd("ngIf",ctx.booksArray)}},directives:[fesm2015_forms.k,fesm2015_forms.f,fesm2015_forms.g,fesm2015_forms.a,fesm2015_forms.e,fesm2015_forms.h,fesm2015_forms.j,common.m,common.l],styles:[".main-div[_ngcontent-%COMP%]{justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{max-width:800px;margin:auto}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.card-subtitle[_ngcontent-%COMP%], .card-title[_ngcontent-%COMP%]{padding-left:60px}.header-image[_ngcontent-%COMP%]{background-size:cover;width:48px;height:48px}.book-card[_ngcontent-%COMP%]{padding:12px auto}"]});const routes=[{path:"",component:books_component_BooksComponent}];class BooksRoutingModule{}BooksRoutingModule.\u0275fac=function BooksRoutingModule_Factory(t){return new(t||BooksRoutingModule)},BooksRoutingModule.\u0275mod=core.Hc({type:BooksRoutingModule}),BooksRoutingModule.\u0275inj=core.Gc({imports:[[router.f.forChild(routes)],router.f]});class BooksModule{}BooksModule.\u0275fac=function BooksModule_Factory(t){return new(t||BooksModule)},BooksModule.\u0275mod=core.Hc({type:BooksModule}),BooksModule.\u0275inj=core.Gc({providers:[PersistanceService],imports:[[common.b,BooksRoutingModule,fesm2015_forms.c,fesm2015_forms.i]]})}};